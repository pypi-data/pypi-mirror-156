!function(){var t,e,n={191:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});n(666);var r=n(311),i=n.n(r),o=n(472),a=n(867),s={getOptions(t,e,n){n=n||{},0===t.length||i().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));let r={};if(0!==t.length&&(r=t.data("pat-"+e),r&&"string"==typeof r)){const t={};i().each(r.split(";"),(function(e,n){(n=n.split(":")).reverse();let r=n.pop();r=r.replace(/^\s+|\s+$/g,""),n.reverse();let i=n.join(":");i=i.replace(/^\s+|\s+$/g,""),t[r]=i})),r=t}return i().extend(!0,{},n,r)}};const l=a.Z.getLogger("Patternslib Base"),d=function(t,e,n){t.jquery||(t=i()(t));const r=this.prototype.name,l=a.Z.getLogger(`pat.${r}`);let d=t.data(`pattern-${r}`);if(void 0===d&&o.Z.patterns[r])try{t.data(`pattern-${r}`,"initializing"),e="mockup"===this.prototype.parser?s.getOptions(t,r,e):e,d=new o.Z.patterns[r](t,e,n)}catch(t){l.error(`Failed while initializing ${r} pattern.`,t)}return d},c=async function(t,e,n){t.jquery||(t=i()(t)),this.$el=t,this.el=t[0],this.options=i().extend(!0,{},this.defaults||{},e||{}),await this.init(t,e,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init")};c.prototype={constructor:c,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},c.extend=function(t){const e=this;let n;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend=c.extend,n.init=d,n.jquery_plugin=!0,n.trigger=t.trigger,n.parser=t?.parser||null;var r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,i().extend(!0,n.prototype,t),n.__super__=e.prototype,t.name?t.trigger?o.Z.register(n,t.name):l.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),n};var u=c},867:function(t,e){"use strict";var n,r;Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var i={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function o(){}function a(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=i.WARN)}function s(t){r=t}o.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=i.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=i.INFO?console.info.apply(console,n):e<=i.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},a.prototype={getLogger:function(t){for(var e=t.split("."),n=this,r=this.name?[this.name]:[];e.length;){var i=e.shift();r.push(i),i in n._loggers||(n._loggers[i]=new a(r.join("."),n)),n=n._loggers[i]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in i&&(this._level=i[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),r.output(this.name,t,e))},debug:function(){this.log(i.DEBUG,arguments)},info:function(){this.log(i.INFO,arguments)},warn:function(){this.log(i.WARN,arguments)},error:function(){this.log(i.ERROR,arguments)},fatal:function(){this.log(i.FATAL,arguments)}},s(new o),n=new a;for(var l,d=/loglevel(|-[^=]+)=([^&]+)/g;null!==(l=d.exec(window.location.search));){(""===l[1]?n:n.getLogger(l[1].slice(1))).setLevel(l[2].toUpperCase())}var c={Level:i,getLogger:n.getLogger.bind(n),setEnabled:n.setEnabled.bind(n),isEnabled:n.isEnabled.bind(n),setLevel:n.setLevel.bind(n),getLevel:n.getLevel.bind(n),debug:n.debug.bind(n),info:n.info.bind(n),warn:n.warn.bind(n),error:n.error.bind(n),fatal:n.fatal.bind(n),getWriter:function(){return r},setWriter:s};e.Z=c},472:function(t,e,n){"use strict";n.d(e,{Z:function(){return R}});var r=n(311),i=n.n(r);const o={},a=(t,e)=>{if(!t?.removeEventListener)return;const n=o[t];if(!n)return;let r;if(e){const t=n[e];r=t?[t]:[]}else r=Object.entries(n);for(const e of r||[])t.removeEventListener(e[0],e[1],e[2])};var s={add_event_listener:(t,e,n,r,i={})=>{t?.addEventListener&&(a(t,n),o[t]||(o[t]={}),o[t][n]=[e,r,i.capture?i:void 0],t.addEventListener(e,r,i))},remove_event_listener:a,await_event:(t,e)=>new Promise((n=>t.addEventListener(e,n,{once:!0}))),await_pattern_init:t=>new Promise((e=>t.one("init",e))),click_event:()=>new Event("click",{bubbles:!0,cancelable:!0}),change_event:()=>new Event("change",{bubbles:!0,cancelable:!1}),input_event:()=>new Event("input",{bubbles:!0,cancelable:!1}),mousedown_event:()=>new Event("mousedown",{bubbles:!0,cancelable:!0}),mouseup_event:()=>new Event("mouseup",{bubbles:!0,cancelable:!0}),scroll_event:()=>new Event("scroll",{bubbles:!0,cancelable:!1}),submit_event:()=>new Event("submit",{bubbles:!0,cancelable:!0})};const l="__patternslib__data_prefix__",d="__patternslib__style__display";function c(t,e,n=!1,r=!1){let i=window.getComputedStyle(t).getPropertyValue(e);return(n||r)&&(i=parseFloat(i)||0),n&&!r&&(i=parseInt(Math.round(i),10)),i}var u={toNodeArray:t=>(t.jquery||t instanceof NodeList?t=[...t]:t instanceof Array==!1&&(t=[t]),t),querySelectorAllAndMe:(t,e)=>{if(!t)return[];const n=[...t.querySelectorAll(e)];return t.matches(e)&&n.unshift(t),n},wrap:(t,e)=>{t.parentNode.insertBefore(e,t),e.appendChild(t)},hide:t=>{"none"!==t.style.display&&(t.style.display&&(t[d]=t.style.display),t.style.display="none",t.setAttribute("hidden",""))},show:t=>{const e=t[d]||null;t.style.display=e,delete t[d],t.removeAttribute("hidden","")},find_parents:(t,e)=>{const n=[];let r=t?.parentNode?.closest?.(e);for(;r;)n.push(r),r=r.parentNode?.closest?.(e);return n},find_scoped:(t,e)=>(0===e.indexOf("#")?document:t).querySelectorAll(e),get_parents:t=>{const e=[];let n=t?.parentNode;for(;n;)e.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return e},acquire_attribute:(t,e,n=!1,r=!1)=>{let i=t;const o=[];for(;i;){const t=i.getAttribute(e);if(t||n&&""===t){if(!r)return t;o.push(t)}i=i.parentElement}if(r)return o},is_visible:t=>t.offsetWidth>0&&t.offsetHeight>0,create_from_string:t=>document.createRange().createContextualFragment(t.trim()),get_css_value:c,find_scroll_container:(t,e,n=document.body)=>{for(;t&&t!==document.body;){if(!e||"y"===e){let e=c(t,"overflow-y");if(["auto","scroll"].includes(e))return t}if(!e||"x"===e){let e=c(t,"overflow-x");if(["auto","scroll"].includes(e))return t}t=t.parentElement}return n},get_data:(t,e,n)=>t[`${l}${e}`]||n,set_data:(t,e,n)=>{t[`${l}${e}`]=n},template:(t,e={})=>new Function("return `"+t+"`;").call(e),add_event_listener:s.add_event_listener,remove_event_listener:s.remove_event_listener},f=n(867);i().fn.safeClone=function(){var t=this.clone();return window.document.documentMode&&t.findInclusive(":input[placeholder]").each((function(t,e){var n=i()(e);n.attr("placeholder")===n.val()&&n.val("")})),t},Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=0;r<o;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}});var h=function(t,e,n){return this.each((function(){var r,o=i()(this);if(r=t.init(o,n),e){if(void 0===r[e])return i().error("Method "+e+" does not exist on jQuery."+t.name),!1;if("_"===e.charAt(0))return i().error("Method "+e+" is private on jQuery."+t.name),!1;r[e].apply(r,[n])}})),this},p=function(t,e,n){var r=this;if(e){if(t[e])return t[e].apply(r,[r].concat([n]));i().error("Method "+e+" does not exist on jQuery."+t.name)}else t.init.apply(r,[r].concat([n]));return r};function g(t){var e=typeof t;return"function"===e||"object"===e&&!!t}var v={jqueryPlugin:function(t){return function(e,n){return 0===this.length?this:("object"==typeof e&&(n=e,e=void 0),"function"==typeof t?h.call(this,t,e,n):p.call(this,t,e,n))}},escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:g,extend:function(t){if(!g(t))return t;for(var e,n,r=1,i=arguments.length;r<i;r++)for(n in e=arguments[r])hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},rebaseURL:function(t,e){return t=new URL(t,window.location).href,-1!==e.indexOf("://")||"/"===e[0]||0===e.indexOf("data:")?e:t.slice(0,t.lastIndexOf("/")+1)+e},findLabel:function(t){for(var e,n=t.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return t.id&&(e=i()('label[for="'+t.id+'"]')),e&&0===e.length&&t.form&&(e=i()('label[for="'+t.name+'"]',t.form)),e&&e.length?e[0]:null},elementInViewport:function(t){var e=t.getBoundingClientRect(),n=document.documentElement,r=window.innerWidth||n.clientWidth,i=window.innerHeight||n.clientHeight;return!(e.right<0||e.bottom<0||e.left>r||e.top>i)},removeWildcardClass:function(t,e){if(t=v.ensureArray(t),-1===e.indexOf("*"))for(const n of t)n.classList.remove(e);else{let n=e.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");n=n.replace(/[*]/g,".*"),n=new RegExp("^"+n+"$");for(const e of t){const t=(e.getAttribute("class")||"").split(/\s+/);if(!t.length)continue;const r=t.filter((t=>!n.test(t)));r.length?e.setAttribute("class",r.join(" ")):e.removeAttribute("class")}}},hideOrShow:(t,e,n,r)=>{t=u.toNodeArray(t);const o={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},a="css"===n.transition||"none"===n.transition?null:n.effect.duration,s=t=>{t.classList.remove("in-progress"),t.classList.add(e?"visible":"hidden"),i()(t).trigger("pat-update",{pattern:r,transition:"complete"})};for(const l of t)if(l.classList.remove("visible"),l.classList.remove("hidden"),l.classList.remove("in-progress"),a){const t=o[n.transition];l.classList.add("in-progress"),i()(l).trigger("pat-update",{pattern:r,transition:"start"}),i()(l)[e?t.show:t.hide]({duration:a,easing:n.effect.easing,complete:()=>s(l)})}else"css"!==n.transition&&u[e?"show":"hide"](l),s(l)},addURLQueryParameter:function(t,e,n){var r=new RegExp("(\\?|\\&)"+e+"=.*?(?=(&|$))"),i=t.toString().split("#"),o=i[0],a=i[1],s=o;return s=r.test(o)?o.replace(r,"$1"+e+"="+n):/\?.+$/.test(o)?o+"&"+e+"="+n:o+"?"+e+"="+n,a&&(s+="#"+a),s},removeDuplicateObjects:function(t){const e=function(t,e){return this[t]===e};return t.reduce((function(t,n){let r=!1;for(const i of t)r=Object.keys(i).length===Object.keys(n).length&&0===Object.entries(i).filter((t=>!e.bind(n)(t[0],t[1]))).length;return r||t.push(n),t}),[])},mergeStack:function(t,e){const n=[];for(let t=0;t<e;t++)n.push({});for(const r of t){const t=r.length-1;for(let o=0;o<e;o++)n[o]=i().extend(n[o]||{},r[o>t?t:o])}return n},isElementInViewport:function(t,e=!1,n=0){t instanceof i()&&(t=t[0]);const r=t.getBoundingClientRect();return![r.top,r.bottom,r.left,r.right].every((t=>0===t))&&(e?r.top<=0+n&&r.bottom>=0+n:r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))},hasValue:function(t){return"INPUT"===t.tagName?"checkbox"===t.type||"radio"===t.type?t.checked:""!==t.value:"SELECT"===t.tagName?-1!==t.selectedIndex:"TEXTAREA"===t.tagName&&""!==t.value},parseTime:function(t){var e=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(t);if(!e)throw new Error("Invalid time");var n=parseFloat(e[1]);switch(e[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},findRelatives:function(t){var e=i()(t),n=i()(t),r=i()();if(n=(n=n.add(e.closest("label"))).add(e.closest("fieldset")),t.id&&(r=i()("label[for='"+t.id+"']")),!r.length){var o=e.closest("form");o.length||(o=i()(document.body)),r=o.find("label[for='"+t.name+"']")}return n=n.add(r)},get_bounds:function(t){const e=t.getBoundingClientRect();return{x:parseInt(Math.round(e.x),10)||0,y:parseInt(Math.round(e.y),10)||0,top:parseInt(Math.round(e.top),10)||0,bottom:parseInt(Math.round(e.bottom),10)||0,left:parseInt(Math.round(e.left),10)||0,right:parseInt(Math.round(e.right),10)||0,width:parseInt(Math.round(e.width),10)||0,height:parseInt(Math.round(e.height),10)||0}},checkInputSupport:function(t,e){let n=!1;const r=document.createElement("input");return r.setAttribute("type",t),n=r.type==t,void 0!==e&&(r.setAttribute("value",e),n=r.value!==e),n},checkCSSFeature:(t,e,n="div")=>{let r=void 0!==(n=document.createElement(n)).style[t];return r&&void 0!==e&&(n.style[t]=e,r=n.style[t]===e),r},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:t=>new Promise((e=>setTimeout(e,t))),debounce:(t,e,n={timer:null})=>function(){clearTimeout(n.timer);const r=arguments;n.timer=setTimeout((()=>t.apply(this,r)),e)},isIE:()=>!!document.documentMode,jqToNode:t=>(t.jquery&&(t=t[0]),t),ensureArray:(t,e)=>!!(NodeList.prototype.isPrototypeOf(t)||Array.isArray(t)||t.jquery)?e?[...t]:t:[t],localized_isodate:t=>{const e=t.getDate().toString().padStart(2,"0"),n=(t.getMonth()+1).toString().padStart(2,"0");return`${t.getFullYear().toString()}-${n}-${e}`},escape_html:t=>(t||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),unescape_html:t=>(t||"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),is_iso_date_time:(t,e=!1)=>(e?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(t),getCSSValue:u.get_css_value},w=v;const y=f.Z.getLogger("registry"),m=/patterns-disable=([^&]+)/g,b=/patterns-dont-catch/g,_={};let E,x=!1;for(;null!==(E=m.exec(window.location.search));)_[E[1]]=!0,y.info("Pattern disabled via url config:",E[1]);for(;null!==(E=b.exec(window.location.search));)x=!0,y.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const L=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const A={patterns:L,init(){i()(document).ready((function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,y.debug("Loaded: "+Object.keys(A.patterns).sort().join(", ")),A.scan(document.body),y.debug("Finished initial scan."))}))},clear(){for(const t in A.patterns)delete A.patterns[t]},transformPattern(t,e){if(_[t])return void y.debug(`Skipping disabled pattern: ${t}.`);const n=A.patterns[t],r=n.transform||n.prototype?.transform;if(r)try{r(i()(e))}catch(e){if(x)throw e;y.error(`Transform error for pattern ${t}.`,e)}},initPattern(t,e,n){const r=i()(e),o=A.patterns[t];if(o.init){const e=f.Z.getLogger(`pat.${t}`);if(r.is(o.trigger)){e.debug("Initialising.",r);try{o.init(r,null,n),e.debug("done.")}catch(t){if(x)throw t;e.error("Caught error:",t)}}}},orderPatterns:t=>(t.includes("validation")&&t.includes("inject")&&(t.splice(t.indexOf("validation"),1),t.unshift("validation")),t),scan(t,e,n){if(!t)return;"string"==typeof t?t=document.querySelector(t):t.jquery&&(t=t[0]);const r=[];e=this.orderPatterns(e||Object.keys(A.patterns));for(const n of e){this.transformPattern(n,t);const e=A.patterns[n];e.trigger&&r.unshift(e.trigger)}let i=u.querySelectorAllAndMe(t,r.map((t=>t.trim().replace(/,$/,""))).join(","));i=i.filter((t=>!(t.matches(".disable-patterns")||t?.parentNode?.closest?.(".disable-patterns")||t?.parentNode?.closest?.("pre")||t?.parentNode?.closest?.("template")||t.matches(".cant-touch-this")||t?.parentNode?.closest?.(".cant-touch-this"))));for(const t of i.reverse())for(const r of e)this.initPattern(r,t,n);document.body.classList.add("patterns-loaded")},register(t,e){if(!(e=e||t.name))return y.error("Pattern lacks a name.",t),!1;if(A.patterns[e])return y.debug(`Already have a pattern called ${e}.`),!1;if(A.patterns[e]=t,t.jquery_plugin){const n=("pat-"+e).replace(/-([a-zA-Z])/g,(function(t,e){return e.toUpperCase()}));i().fn[n]=w.jqueryPlugin(t),i().fn[n.replace(/^pat/,"pattern")]=i().fn[n]}return y.debug(`Registered pattern ${e}`,t),window.__patternslib_registry_initialized&&(A.scan(document.body,[e]),y.debug(`Re-scanned dom with newly registered pattern ${e}.`)),!0}};var R=A},950:function(t,e,n){"use strict";var r=n(472),i=(n(666),n(311)),o=n.n(i),a=n(191),s=n(867);s.Z.setLevel("INFO");s.Z.getLogger("datagridfield");a.Z.extend({name:"datagridfield",trigger:".pat-datagridfield",parser:"mockup",init:function(){n.e(632).then(n.bind(n,632)),this.el=this.$el[0],this.el_body=this.el.querySelector(".datagridwidget-body"),this.auto_append="false"!==(this.el.dataset.autoAppend||"true").toLowerCase(),this._defineHandler(),this.getVisibleRows().forEach((function(t){this.initRowUI(t)}),this),this.ensureMinimumRows()||this.updateOrderIndex(),this.initAutoAppendHandler(),this.el.dispatchEvent(new Event("afterdatagridfieldinit",{bubbles:!0,cancelable:!0}))},_defineHandler:function(){this.handler_auto_append=function(t){t&&t.stopPropagation(),t&&!t.target.closest(".datagridwidget-cell")||this.auto_append_row()}.bind(this),this.handler_auto_append_input=function(t){var e=t.currentTarget;e.classList.remove("auto-append"),e.dataset.oldIndex=e.dataset.index,delete e.dataset.index,this.updateOrderIndex(),e.removeEventListener("input",this.handler_auto_append_input)}.bind(this)},initRowUI:function(t){t.querySelectorAll(".dgf--row-add").forEach((function(e){e.addEventListener("click",function(e){e.preventDefault(),this.insertRow(t),this.updateOrderIndex()}.bind(this))}),this),t.querySelectorAll(".dgf--row-delete").forEach((function(e){e.addEventListener("click",function(e){e.preventDefault(),this.removeFieldRow(t)}.bind(this))}),this),t.querySelectorAll(".dgf--row-moveup").forEach((function(e){e.addEventListener("click",function(e){e.preventDefault(),this.moveRowUp(t)}.bind(this))}),this),t.querySelectorAll(".dgf--row-movedown").forEach((function(e){e.addEventListener("click",function(e){e.preventDefault(),this.moveRowDown(t)}.bind(this))}),this)},get_row_buttons:function(t){return{add:t.querySelector(".dgf--row-add"),delete:t.querySelector(".dgf--row-delete"),up:t.querySelector(".dgf--row-moveup"),down:t.querySelector(".dgf--row-movedown")}},setUIState:function(){for(var t=this.getVisibleRows(),e=0;e<t.length;e++){var n=t[e],r=this.get_row_buttons(n);if(!0===this.auto_append&&"AA"===n.dataset.index){if(r.add&&(r.add.disabled=!0),r.delete&&(r.delete.disabled=!0),r.up&&(r.up.disabled=!0),r.down&&(r.down.disabled=!0),e>0){var i=this.get_row_buttons(t[e-1]);i.down&&(i.down.disabled=!0)}}else 0===e?(r.add&&(r.add.disabled=!1),r.delete&&(r.delete.disabled=!1),r.up&&(r.up.disabled=!0),r.down&&(r.down.disabled=1===t.length)):e===t.length-1?(r.add&&(r.add.disabled=!1),r.delete&&(r.delete.disabled=!1),r.up&&(r.up.disabled=!1),r.down&&(r.down.disabled=!0)):(r.add&&(r.add.disabled=!1),r.delete&&(r.delete.disabled=!1),r.up&&(r.up.disabled=!1),r.down&&(r.down.disabled=!1))}},getRows:function(){return this.el_body.querySelectorAll(".datagridwidget-row")},getVisibleRows:function(){return this.el_body.querySelectorAll(".datagridwidget-row:not([data-index=TT])")},getLastRow:function(){return this.el_body.querySelector(".datagridwidget-row:last-child")},getLastVisibleRow:function(){var t=this.el_body.querySelectorAll(".datagridwidget-row:not([data-index=TT])");return t[t.length-1]},countRows:function(){var t=0;return this.getRows().forEach((function(e){-1===["AA","TT"].indexOf(e.dataset.index)&&t++}),this),t},initAutoAppendHandler:function(){if(this.auto_append){this.getVisibleRows().forEach((function(t){t.removeEventListener("focusout",this.handler_auto_append)}),this);var t=this.getLastVisibleRow();t&&t.addEventListener("focusout",this.handler_auto_append)}},auto_append_row:function(){this.el.dispatchEvent(new Event("beforeaddrowauto")),this.getVisibleRows().forEach((function(t){t.classList.remove("auto-append"),"TT"!==t.dataset.index&&(t.dataset.oldIndex=t.dataset.index,delete t.dataset.index)}));var t=this.getLastVisibleRow()||this.getLastRow(),e=this.insertRow(t);e.classList.add("auto-append"),this.reindexRow(e,"AA"),this.updateOrderIndex(),e.addEventListener("input",this.handler_auto_append_input),this.el.dispatchEvent(new Event("afteraddrowauto"))},insertRow:function(t,e){var n=this.createNewRow(),i=o()(n);return this.$el.trigger("beforeaddrow",[this.$el,i]),e?i.insertBefore(t):i.insertAfter(t),this.initRowUI(n),r.Z.scan(i),this.initAutoAppendHandler(),this.$el.trigger("afteraddrow",[this.$el,i]),n},createNewRow:function(){var t=this.el_body.querySelector("[data-index=TT]");if(!t)throw new Error("Could not locate empty template row in DGF");var e=document.createElement("table");return e.innerHTML=t.outerHTML,(e=e.querySelector("tr")).dataset.oldIndex=e.dataset.index,delete e.dataset.index,e.classList.remove("datagridwidget-empty-row"),o()(e).find('*[class^="dgw-disabled-pat-"]').attr("class",(function(t,e){return e.replace(/dgw\-disabled-pat-/,"pat-")})),e},removeFieldRow:function(t){o()(t).remove(),this.ensureMinimumRows()||this.updateOrderIndex(),this.updateOrderIndex(),this.initAutoAppendHandler()},moveRowDown:function(t){this.moveRow(t,"down"),this.updateOrderIndex(),this.initAutoAppendHandler()},moveRowUp:function(t){this.moveRow(t,"up"),this.updateOrderIndex(),this.initAutoAppendHandler()},moveRowToTop:function(t){var e=this.getRows();o()(t).insertBefore(e[0]),this.updateOrderIndex(),this.initAutoAppendHandler()},moveRowToBottom:function(t){var e=this.getRows(),n=0;o()(e).each((function(t,e){-1===["AA","TT"].indexOf(e.dataset.index)&&(n=t)})),o()(t).insertAfter(e[n]),this.updateOrderIndex(),this.initAutoAppendHandler()},moveRow:function(t,e){var n,r=this.getRows(),i=null;if(o()(r).each((function(e,n){t===n&&(i=e)})),null!==i){var a=this.countRows();i+1==a?"down"==e?this.moveRowToTop(t):(n=r[i-1],this.shiftRow(n,t)):0===i?"up"==e?this.moveRowToBottom(t):(n=r[parseInt(i+1,10)],this.shiftRow(t,n)):"up"==e?(n=r[i-1],this.shiftRow(n,t)):(n=r[parseInt(i+1,10)],this.shiftRow(t,n)),this.$el.trigger("aftermoverow",[this.$el,t])}},shiftRow:function(t,e){o()(e).insertBefore(t)},reindexRow:function(t,e){var n=this.el_body.dataset.name_prefix+".",r=this.el_body.dataset.id_prefix+"-",i=t.dataset.oldIndex||t.dataset.index;function o(t,n,r){var o=t.getAttribute(n);if(o){var a=new RegExp("^"+r+i);t.setAttribute(n,o.replace(a,r+e))}}delete t.dataset.oldIndex,t.dataset.index=e,t.querySelectorAll('[id^="formfield-'+r+'"]').forEach((function(t){o(t,"id","formfield-"+r)}),this),t.querySelectorAll('[name^="'+n+'"]').forEach((function(t){o(t,"name",n)}),this),t.querySelectorAll('[id^="'+r+'"]').forEach((function(t){o(t,"id",r)}),this),t.querySelectorAll('[for^="'+r+'"]').forEach((function(t){o(t,"for",r)}),this),t.querySelectorAll('[href*="#'+r+'"]').forEach((function(t){o(t,"href","#"+r)}),this),t.querySelectorAll('[data-fieldname^="'+n+'"]').forEach((function(t){o(t,"data-fieldname",n)}),this)},updateOrderIndex:function(){var t=0;this.getRows().forEach((function(e){var n=e.dataset.index;["AA","TT"].indexOf(n)>-1?this.reindexRow(e,n):(this.reindexRow(e,t),e.dataset.index=t,t++)}),this);var e=this.el_body.dataset.name_prefix+".";this.el.querySelector('input[name="'+e+'count"]').value=this.countRows(),this.setUIState()},getParentRow:function(t){var e=t.closest(".datagridwidget-row");return e||null},ensureMinimumRows:function(){var t=this.getRows(),e=this.getVisibleRows();return!(!t.length||0!==e.length)&&(this.auto_append_row(),!0)}});r.Z.init()},666:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r=u;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return j()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var l=c(t,e,n);if("normal"===l.type){if(r=n.done?p:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var u="suspendedStart",f="suspendedYield",h="executing",p="completed",g={};function v(){}function w(){}function y(){}var m={};l(m,o,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(T([])));_&&_!==n&&r.call(_,o)&&(m=_);var E=y.prototype=v.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(i,o,a,s){var l=c(t[i],t,o);if("throw"!==l.type){var d=l.arg,u=d.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(u).then((function(t){d.value=t,a(d)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function A(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(R,this),this.reset(!0)}function T(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:j}}function j(){return{value:e,done:!0}}return w.prototype=y,l(E,"constructor",y),l(y,"constructor",w),w.displayName=l(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},x(L.prototype),l(L.prototype,a,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new L(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(E),l(E,s,"Generator"),l(E,o,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),d=r.call(a,"finallyLoc");if(l&&d){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},311:function(t){"use strict";t.exports=jQuery}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,exports:{}};return n[t](o,o.exports,i),o.exports}i.m=n,i.c=r,i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))},i.u=function(t){return"chunks/"+t+".b7244959e1fb957cdb24.min.js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},e="collective-z3cform-datagridfield:",i.l=function(n,r,o,a){if(t[n])t[n].push(r);else{var s,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==e+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",e+o),s.src=n),t[n]=[r];var f=function(e,r){s.onerror=s.onload=null,clearTimeout(h);var i=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(t){return t(r)})),e)return e(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){i.S={};var t={},e={};i.I=function(n,r){r||(r=[]);var o=e[n];if(o||(o=e[n]={}),!(r.indexOf(o)>=0)){if(r.push(o),t[n])return t[n];i.o(i.S,n)||(i.S[n]={});i.S[n];var a=[];return a.length?t[n]=Promise.all(a).then((function(){return t[n]=1})):t[n]=1}}}(),function(){var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t}(),function(){var t={311:0,950:0,191:0};i.f.j=function(e,n){var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=t[e]=[n,i]}));n.push(r[2]=o);var a=i.p+i.u(e),s=new Error;i.l(a,(function(n){if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=function(e,n){var r,o,a=n[0],s=n[1],l=n[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(r in s)i.o(s,r)&&(i.m[r]=s[r]);if(l)l(i)}for(e&&e(n);d<a.length;d++)o=a[d],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkcollective_z3cform_datagridfield=self.webpackChunkcollective_z3cform_datagridfield||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();i(950)}();
//# sourceMappingURL=datagridfield.min.js.map