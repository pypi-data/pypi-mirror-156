if gitlab.mr_body.length < 5
    fail "Please provide a summary in the Merge Request description."
  end

  # Let people say that this isn't worth a CHANGELOG entry in the PR if they choose
#   declared_trivial = (gitlab.mr_title + gitlab.mr_body).include?("#trivial")

#   if !git.modified_files.include?("CHANGELOG.md") && !declared_trivial
#     fail("Please include a CHANGELOG entry. You can find it at [CHANGELOG.md](https://gitlab.com/gamechaingers/influence-api/-/blob/master/CHANGELOG.md).")
#   end

  has_app_changes = !git.modified_files.grep(/^influence_api\/(?!tests\/)(.*)\.py/).empty?

  has_test_changes = !git.modified_files.grep(/^influence_api\/tests/).empty?

  if has_app_changes && !has_test_changes && git.lines_of_code > 20
    warn("Tests were not updated!", sticky: false)
  end
