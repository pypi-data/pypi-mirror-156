"use strict";(self.webpackChunk_agoose77_jupyterlab_markup=self.webpackChunk_agoose77_jupyterlab_markup||[]).push([[98],{9098:(e,r,l)=>{l.r(r),l.d(r,{default:()=>s,dollarmathPlugin:()=>n});var t=l(7022);const i={allow_space:!0,allow_digits:!0,double_inline:!0,allow_labels:!0,labelNormalizer:e=>e.replace(/[\s]+/g,"-"),renderer:e=>(0,t.escapeHtml)(e),labelRenderer:e=>`<a href="#${e}" class="mathlabel" title="Permalink to this equation">Â¶</a>`};function n(e,r){const l=Object.assign(Object.assign({},i),r);e.inline.ruler.before("escape","math_inline",function(e){return function(r,l){if(36!==r.src.charCodeAt(r.pos))return!1;if(!e.allow_space&&r.md.utils.isWhiteSpace(r.src.charCodeAt(r.pos+1)))return!1;if(!e.allow_digits){const e=r.src.charAt(r.pos-1);if(e&&""!==e.trim()&&!isNaN(Number(e)))return!1}if(a(r,r.pos))return!1;let t=!1;e.double_inline&&36===r.src.charCodeAt(r.pos+1)&&(t=!0);let i=r.pos+1+(t?1:0),n=!1,s=-1;for(;!n;){if(s=r.src.indexOf("$",i),-1===s)return!1;a(r,s)||t&&36!==r.src.charCodeAt(s+1)?i=s+1:(t&&(s+=1),n=!0)}if(!n)return!1;if(!e.allow_space){const e=r.src.charCodeAt(s-1);if(r.md.utils.isWhiteSpace(e))return!1}if(!e.allow_digits){const e=r.src.charAt(s+1);if(e&&""!==e.trim()&&!isNaN(Number(e)))return!1}let o=r.src.slice(r.pos+1,s);if(t&&(o=r.src.slice(r.pos+2,s-1)),!o)return!1;if(!l){const e=r.push(t?"math_inline_double":"math_inline","math",0);e.content=o,e.markup=t?"$$":"$"}return r.pos=s+1,!0}}(l)),e.block.ruler.before("fence","math_block",function(e){return function(r,l,t,i){let n=!1;const s=r.bMarks[l]+r.tShift[l];let a=r.eMarks[l];if(r.sCount[l]-r.blkIndent>=4)return!1;if(s+2>a)return!1;if(36!=r.src.charCodeAt(s)||36!=r.src.charCodeAt(s+1))return!1;let c,u,d=l,f=r.src.slice(s,a);if(f.trim().length>3)if(f.trim().endsWith("$$"))n=!0,a=a-2-(f.length-f.trim().length);else if(e.allow_labels){const e=o(f,a);void 0!==e.label&&(n=!0,c=e.label,a=e.end)}if(!n)for(;d+1<t;)if(d+=1,u=r.bMarks[d]+r.tShift[d],a=r.eMarks[d],!(a-u<2)){if(f=r.src.slice(u,a),f.trim().endsWith("$$")){n=!0,a=a-2-(f.length-f.trim().length);break}if(e.allow_labels){const e=o(f,a);if(void 0!==e.label){n=!0,c=e.label,a=e.end;break}}}if(!n)return!1;r.line=d+(n?1:0);const h=r.push(c?"math_block_label":"math_block","math",0);return h.block=!0,h.content=r.src.slice(s+2,a).trim(),h.markup="$$",h.map=[l,r.line],c&&(h.info=e.labelNormalizer?e.labelNormalizer(c):c),!0}}(l));const t=r=>(t,i)=>{const n=t[i].content.trim();let s;try{s=l.renderer(n,{displayMode:r.displayMode})}catch(r){s=e.utils.escapeHtml(`${n}:${r.message}`)}const a=r.inline?"inline":"block",o=r.displayMode?"div":"span",c=r.inline?"":"\n",u=t[i].info;return[`<${o} ${u?`id="${u}" `:""}class="math ${a}">`,r.hasLabel?`${l.labelRenderer(u)}`:"",s,`</${o}>`].filter((e=>!!e)).join(c)+c};e.renderer.rules.math_inline=t({displayMode:!1,inline:!0}),e.renderer.rules.math_inline_double=t({displayMode:!0,inline:!0}),e.renderer.rules.math_block=t({displayMode:!0}),e.renderer.rules.math_block_label=t({displayMode:!0,hasLabel:!0})}const s=n;function a(e,r,l=0){let t=0;for(;r>=0&&(r-=1,92===e.src.charCodeAt(r));)t+=1;return 0!==t&&t%2!==l}function o(e,r){const l=e.split("").reverse().join("").match(/^\s*\)(?<label>[^)$\r\n]+?)\(\s*\${2}/);return l&&l.groups?{label:l.groups.label.split("").reverse().join(""),end:r-=(l.index||0)+l[0].length}:{end:r}}}}]);