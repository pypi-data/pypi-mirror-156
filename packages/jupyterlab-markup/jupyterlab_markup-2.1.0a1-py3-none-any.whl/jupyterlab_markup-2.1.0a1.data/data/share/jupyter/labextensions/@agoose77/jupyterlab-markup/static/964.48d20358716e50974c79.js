"use strict";(self.webpackChunk_agoose77_jupyterlab_markup=self.webpackChunk_agoose77_jupyterlab_markup||[]).push([[964,372],{7372:(e,t,n)=>{n.r(t),n.d(t,{IMarkdownIt:()=>i.tN,PACKAGE_NS:()=>i.pm,simpleMarkdownItPlugin:()=>r});var i=n(8036);function r(e,t){return{id:`${e}:${t.id}`,autoStart:!0,requires:[i.tN],activate:(e,n)=>{n.addPluginProvider(t)}}}},2964:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var i=n(6345),r=n(8118),s=n(723),a=n(9571),o=n(8036),l=n(1840),d=n(3827),c=n(8736),u=n(9391),g=n.n(u);class h extends d.RenderedHTMLCommon{constructor(e){super(e),this.renderer=null,this.addClass("jp-RenderedMarkdown")}async render(e){return null===this.renderer&&(this.renderer=await h.markdownItManager.getRenderer(this,{})),await async function(e){const{host:t,source:n,renderer:i}=e,r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(e,["host","source","renderer"]);n?(await(0,d.renderHTML)(Object.assign(Object.assign({host:t,source:i.render(n)},r),{shouldTypeset:!1})),await i.postRender(t)):t.textContent=""}({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,renderer:this.renderer,latexTypesetter:this.latexTypesetter})}onAfterAttach(e){}}function m(e){return(t,n)=>{var i,r;return(null!==(i=t.rank)&&void 0!==i?i:e)-(null!==(r=n.rank)&&void 0!==r?r:e)}}class p{constructor(){this.settingsChanged=new l.Signal(this),this.userDisabledPlugins=[],this.userMarkdownItOptions={},this.userPluginOptions={},this._pluginProviders=new Map,this.createRenderer=e=>new h(e),this.highlightCode=(e,t)=>{if(!t)return"";try{const n=c.Mode.findBest(t);if(!n)return void console.warn(`No CodeMirror mode: ${t}`);const i=document.createElement("div");try{return c.Mode.run(e,n.mime,i),i.innerHTML}catch(e){console.warn(`Failed to highlight ${t} code`,e)}}catch(e){console.warn(`No CodeMirror mode: ${t}`),console.warn(`Require CodeMirror mode error: ${e}`)}return""},d.markdownRendererFactory.createRenderer=this.createRenderer}set settings(e){this._settings&&this._settings.changed.disconnect(this.onSettingsChanged,this),this._settings=e,null!==e&&(this._settings.changed.connect(this.onSettingsChanged,this),this.onSettingsChanged())}get settings(){return this._settings}onSettingsChanged(){var e,t,n;this.userMarkdownItOptions=(null===(e=this.settings)||void 0===e?void 0:e.composite["markdown-it-options"])||{},this.userDisabledPlugins=(null===(t=this.settings)||void 0===t?void 0:t.composite["disabled-plugins"])||[],this.userPluginOptions=(null===(n=this.settings)||void 0===n?void 0:n.composite["plugin-options"])||{},this.settingsChanged.emit(void 0)}addPluginProvider(e){this._pluginProviders.set(e.id,e)}getPluginProvider(e){return this._pluginProviders.get(e)}get pluginProviderIds(){return[...this._pluginProviders.keys()]}removePluginProvider(e){this._pluginProviders.delete(e)}async getMarkdownIt(e,t={}){return console.warn("IMarkdownIt.getMarkdownIt is deprecated, please use IMarkdownIt.getRenderer instead"),(await this.getRenderer(e,t)).markdownIt}async getRenderer(e,t={}){const n=Object.assign(Object.assign({},await this.getOptions(e)),t);let i=new(g())("default",n);const r=m(100),s=[...this._pluginProviders.values()];s.sort(r);const a=[],o=[];for(const e of s)if(-1===this.userDisabledPlugins.indexOf(e.id))try{if(void 0!==e.plugin){const[t,...n]=await e.plugin(),r=this.userPluginOptions[e.id]||[],s=Math.max(n.length,r.length),a=new Array(s);for(let e=0;e<s;e++)a[e]=e<r.length?r[e]:n[e];i=i.use(t,...a)}void 0!==e.preParseHook&&a.push(e.preParseHook),void 0!==e.postRenderHook&&o.push(e.postRenderHook)}catch(t){console.warn(`Failed to load/use markdown-it plugin ${e.id}`,t)}return a.sort(r),o.sort(r),{get markdownIt(){return i},render:e=>i.render(e),preParse:async e=>{for(const t of a)e=await t.preParse(e);return e},postRender:async e=>{for(const t of o)await t.postRender(e)}}}async getOptions(e){const t=m(100),n=[...this._pluginProviders.values()];n.sort(t);let i={};for(const t of n)if(-1===this.userDisabledPlugins.indexOf(t.id)&&void 0!==t.options)try{i=Object.assign(Object.assign({},i),await t.options(e))}catch(e){console.warn(`Failed to get options from markdown-it plugin ${t.id}`,e)}return Object.assign(Object.assign(Object.assign({},this.baseMarkdownItOptions),i),this.userMarkdownItOptions)}get baseMarkdownItOptions(){return{html:!0,linkify:!0,typographer:!0,langPrefix:`cm-s-${c.CodeMirrorEditor.defaultConfig.theme} language-`,highlight:this.highlightCode}}}var f=n(6271);const v="jp-mu-mod-disabled",b="id-jp-mu-plugin";class w extends r.VDomRenderer{constructor(e){super(e),this.onPluginEnabledChanged=e=>{const{value:t,checked:n}=e.currentTarget;this.model.setPluginEnabled(t,n)},this.onAdvancedClicked=()=>{this.model.advancedRequested.emit(void 0)},this.addClass("jp-MarkdownItSettings"),this.addClass("jp-RenderedHTMLCommon")}dispose(){var e;null===(e=this.model)||void 0===e||e.dispose(),super.dispose()}render(){const e=this.model,t=null==e?void 0:e.manager,n=f.createElement("a",{href:"#",onClick:this.onAdvancedClicked},"Open in Advanced Settings...");if(void 0===t)return f.createElement("div",null);const{providers:i}=e;return f.createElement("div",null,f.createElement("header",null,f.createElement("ul",null,f.createElement("li",null,f.createElement("a",{href:"#id-jp-mu-global"},"Global")),f.createElement("li",null,f.createElement("a",{href:`#${b}`},"Markdown-it Plugins"),f.createElement("ul",null,i.map(this.renderPluginNav,this))),f.createElement("li",null,n))),f.createElement("article",null,f.createElement("h3",{id:b},"Markdown-it Plugins"),f.createElement("blockquote",null,"Extensions can be individually enabled or disabled with the checkboxes below. See ",n," for more fine-grained control."),i.map(this.renderPluginProvider,this)))}renderPluginNav(e){const t=-1===this.model.disabledPlugins.indexOf(e.id)?"":v;return f.createElement("li",{key:e.id,className:t},f.createElement("a",{href:`#${b}-${e.id}`},e.title))}renderPluginProvider(e){const t=-1===this.model.disabledPlugins.indexOf(e.id),n=t?"":v,i=[],r=[];for(const t in e.documentationUrls)i.push(this.renderDoc(t,e.documentationUrls[t]));for(const t in e.examples||{})r.push(this.renderExample(t,e.examples[t]));return f.createElement("section",{key:e.id,id:`${b}-${e.id}`,className:n},f.createElement("div",null,f.createElement("h4",{title:`plugin id: ${e.id}`},f.createElement("label",null,f.createElement("input",{type:"checkbox",value:e.id,defaultChecked:t,onChange:this.onPluginEnabledChanged}),e.title)),f.createElement("ul",{className:"jp-MarkdownItSettings-Docs"},i)),f.createElement("blockquote",null,e.description),f.createElement("ul",{className:"jp-MarkdownItSettings-Examples"},r))}renderDoc(e,t){return f.createElement("li",{key:t},f.createElement("a",{href:t,target:"_blank",rel:"noopener"},e))}renderExample(e,t){return f.createElement("div",{key:e},f.createElement("p",null,f.createElement("label",null,f.createElement("em",null,e))),f.createElement("pre",null,f.createElement("code",null,t)))}}!function(e){class t extends r.VDomModel{constructor(){super(...arguments),this.advancedRequested=new l.Signal(this),this._disabledPlugins=[],this._providers=[]}dispose(){super.dispose(),this._manager&&(this._manager.settingsChanged.disconnect(this.onSettingsChanged,this),this._manager=null)}get manager(){return this._manager}set manager(e){this._manager=e,e&&(e.settingsChanged.connect(this.onSettingsChanged,this),this.onSettingsChanged())}get disabledPlugins(){return this._disabledPlugins}get providers(){return this._providers}setPluginEnabled(e,t){const n=this._disabledPlugins.slice(),i=n.indexOf(e);t?n.splice(i):n.push(e),n.length?this.manager.settings.set("disabled-plugins",n):this.manager.settings.remove("disabled-plugins")}onSettingsChanged(){const{composite:e}=this.manager.settings;null!=e&&(this._disabledPlugins=e["disabled-plugins"]||[],this._providers=this.manager.pluginProviderIds.map(this.manager.getPluginProvider,this.manager),this._providers.sort(this.sortByTitle)),this.stateChanged.emit(void 0)}sortByTitle(e,t){return e.title.localeCompare(t.title)}}e.Model=t}(w||(w={}));var k=n(7372);const y=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"markdown-it-anchor",title:"Heading Anchors",description:"Create clickable links for header elements",documentationUrls:{Plugin:"https://github.com/valeriangalliat/markdown-it-anchor"},plugin:async()=>[(await n.e(875).then(n.t.bind(n,9334,23))).default,{permalink:!0,permalinkClass:"jp-InternalAnchorLink",slugify:e=>e.replace(/ /g,"-")}]}),P=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"markdown-it-deflist",title:"Definition Lists",description:"Create definition lists",documentationUrls:{Plugin:"https://github.com/markdown-it/markdown-it-deflist"},examples:{Example:"\nTerm 1\n~ Definition 1\n\nTerm 2\n~ Definition 2a\n~ Definition 2b\n      "},plugin:async()=>[(await n.e(780).then(n.t.bind(n,1336,23))).default]}),C=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"@agoose77/markdown-it-svgbob",title:"Svgbob",description:"ASCII diagrams rendered by Svgbob",documentationUrls:{Plugin:"https://github.com/agoose77/markdown-it-svgbob",svgbob:"https://github.com/ivanceras/svgbob"},examples:{svgbob:"\n  ```svgbob\n       .---.\n      /-o-/--\n   .-/ / /->\n  ( *  \\/\n   '-.  \\\n      \\ /\n       '\n  ```\n          "},plugin:async()=>{const e=await n.e(796).then(n.t.bind(n,1609,23));return[await e.default()]}}),E=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"@agoose77/markdown-it-mermaid",title:"Mermaid",description:"Create diagrams and visualizations using text and code.",documentationUrls:{Plugin:"https://github.com/agoose77/markdown-it-mermaid",MermaidJS:"https://mermaid-js.github.io/mermaid"},examples:{"Mermaid Flowchart":"\n  ```mermaid\n  graph TD;\n      A--\x3eB;\n      A--\x3eC;\n      B--\x3eD;\n      C--\x3eD;\n  ```"},plugin:async()=>[(await n.e(432).then(n.t.bind(n,8336,23))).default]}),M=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"markdown-it-footnote",title:"Footnotes",description:"Create links notes that appear after the current paragraph",documentationUrls:{Plugin:"https://github.com/markdown-it/markdown-it-footnote"},examples:{Simple:"\nHere is a footnote reference,[^1] and another.[^longnote]\n\n[^1]: Here is the footnote.\n\n[^longnote]: Here's one with multiple blocks.\n\n  Subsequent paragraphs are indented to show that they\nbelong to the previous footnote.\n      "},plugin:async()=>[(await n.e(985).then(n.t.bind(n,7473,23))).default]}),S=(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"markdown-it-task-lists",title:"Task Lists",description:"Create checklists from lists",documentationUrls:{Plugin:"https://github.com/revin/markdown-it-task-lists"},examples:{Example:"\n- [x] done\n- [ ] to do\n- [ ] ~~not going to do~~\n      "},plugin:async()=>[(await n.e(497).then(n.t.bind(n,7497,23))).default]}),x="typesetter-adaptor",I=[y,P,M,E,C,S,{id:`${k.PACKAGE_NS}:${x}`,autoStart:!0,requires:[k.IMarkdownIt,d.ILatexTypesetter],activate:(e,t,n)=>{const i={id:x,title:"ILatexTypesetter Adaptor",description:"Enable math rendering using JupyterLab ILatexTypesetter interface",documentationUrls:{},postRenderHook:{async postRender(e){const t=[...e.querySelectorAll([".math"].join(","))];await Promise.all(t.map((e=>n.typeset(e))))}}};t.addPluginProvider(i)}},(0,k.simpleMarkdownItPlugin)(k.PACKAGE_NS,{id:"markdown-it-dollarmath",title:"Dollar Math",description:"Parse inline and display LaTeX math using $-delimiters",documentationUrls:{Plugin:"https://github.com/executablebooks/markdown-it-dollarmath"},plugin:async()=>[(await n.e(134).then(n.t.bind(n,9653,23))).default,{allow_space:!0,allow_digits:!0,double_inline:!0,allow_labels:!0,labelNormalizer:e=>e.replace(/[\s]+/g,"-"),renderer(e,t){const{displayMode:n}=t;return n?`$$${e}$$`:`$${e}$`},labelRenderer:e=>`<a href="#${e}" class="mathlabel" title="Permalink to this equation">¶<a>`}]})];var _=n(3379),j=n.n(_),A=n(2760);j()(A.Z,{insert:"head",singleton:!1}),A.Z.locals;const O=new s.LabIcon({name:"jupyterlab-markup:core",svgstr:s.markdownIcon.svgstr.replace("jp-icon-contrast0","jp-icon-contrast1")}),T={id:`${o.pm}:core`,autoStart:!0,provides:o.tN,requires:[i.ISettingRegistry,r.ICommandPalette],optional:[a.IMainMenu],activate:(e,t,n,i)=>{const{commands:s,shell:a}=e,l=new p;h.markdownItManager=l,t.load(T.id).then((e=>l.settings=e)).catch(console.warn);let d=null;return s.addCommand(o.TQ.showSettings,{label:"Markdown Extension Settings...",execute:e=>{if(null===d){const e=new w.Model;e.advancedRequested.connect((()=>s.execute("settingeditor:open"))),e.manager=l;const t=new w(e);d=new r.MainAreaWidget({content:t}),d.title.label="Markdown Extensions",d.title.icon=O,d.disposed.connect((()=>d=null))}a.add(d,"main"),a.activateById(d.id)}}),n.addItem({command:o.TQ.showSettings,category:o.bv}),n.addItem({command:o.TQ.toggleRenderer,category:o.bv}),i&&i.settingsMenu.addGroup([{command:o.TQ.toggleRenderer},{command:o.TQ.showSettings}],100),l}},R=[T,...I]},8036:(e,t,n)=>{n.d(t,{TQ:()=>o,bv:()=>s,pm:()=>r,tN:()=>a});var i=n(1526);const r="@agoose77/jupyterlab-markup",s="Markdown Extensions",a=new i.Token(r);var o;!function(e){e.showSettings="markdown-it:show-settings",e.toggleRenderer="markdown-it:toggle-renderer"}(o||(o={}))},1150:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(3645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,"/* Handle overflow in settings editor */\n.jp-MarkdownItSettings {\n  overflow: auto;\n}\n",""]);const s=r},2760:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(3645),r=n.n(i),s=n(1150),a=r()((function(e){return e[1]}));a.i(s.Z),a.push([e.id,"\n",""]);const o=a},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(r[a]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},3379:(e,t,n)=>{var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],r=0;r<e.length;r++){var o=e[r],l=t.base?o[0]+t.base:o[0],d=n[l]||0,c="".concat(l," ").concat(d);n[l]=d+1;var u=a(c),g={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(s[u].references++,s[u].updater(g)):s.push({identifier:c,updater:p(g,t),references:1}),i.push(c)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function g(e,t,n){var i=n.css,r=n.media,s=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,m=0;function p(e,t){var n,i,r;if(t.singleton){var s=m++;n=h||(h=l(t)),i=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else n=l(t),i=g.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=a(n[i]);s[r].references--}for(var l=o(e,t),d=0;d<n.length;d++){var c=a(n[d]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=l}}}}}]);