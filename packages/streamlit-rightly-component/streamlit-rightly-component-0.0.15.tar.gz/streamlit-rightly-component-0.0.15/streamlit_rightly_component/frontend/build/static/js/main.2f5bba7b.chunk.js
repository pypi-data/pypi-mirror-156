(this.webpackJsonpstreamlit_component_template=this.webpackJsonpstreamlit_component_template||[]).push([[0],{150:function(e,t,n){e.exports=n(348)},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var o=n(7),a=n.n(o),r=n(148),s=n.n(r),l=n(0),c=n(1),i=n(2),u=n(3),d=n(11),p=n(6),h=n(36),f=n(61),m=n(84),v=["target","source"],g=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).nodeTree=void 0,e.nodeTreeInner=void 0,e.setNodeTree=function(t){e.nodeTree=t},e.setNodeTreeInner=function(t){e.nodeTreeInner=t},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.renderDag()}},{key:"sholudComponentUpdate",value:function(e){return!(this.props.nodes===e.nodes)||!(this.props.edges===e.edges)}},{key:"componentDidUpdate",value:function(){this.renderDag()}},{key:"renderDag",value:function(){var e=this.props,t=e.nodes,n=e.edges,o=e.graph,a=e.onNodeClick,r=e.onNodeHover,s=new m.graphlib.Graph;s.setGraph(Object(p.a)({},o)).setDefaultNodeLabel((function(){return{}})).setDefaultEdgeLabel((function(){return{}})),t.forEach((function(e){s.setNode(e.id,e)})),n.forEach((function(e){var t=e.target,n=e.source,o=Object(h.a)(e,v);s.setEdge(n,t,o)}));var l=f.select(this.nodeTree),c=f.select(this.nodeTreeInner);(new m.render)(c,s),a&&l.selectAll("g.node").on("click",a),r&&l.selectAll("g.node").on("mouseover",r)}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height;return a.a.createElement("svg",{width:t,height:n,ref:this.setNodeTree},a.a.createElement("g",{ref:this.setNodeTreeInner}))}}]),n}(a.a.Component);g.defaultProps={width:"100%",height:"100%",nodes:{},edges:[],graph:{isMultiGraph:!0},interactive:!1,onNodeClick:function(){}};var b=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"onNodeClick",value:function(e){d.a.setComponentValue({action:"onClickNode",node:e})}},{key:"render",value:function(){var e,t,n,o,r,s,l,c=(null===(e=this.props.args)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.nodes.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{style:"fill: rgb(204, 230, 255);border: solid 1px rgba(0, 0, 0)",shape:"rect"})})))||[{id:0,label:"ReactComponent",style:"fill: rgb(204, 230, 255);border: solid 1px rgba(0, 0, 0)",shape:"rect"},{id:1,label:"props",style:"fill: rgb(204, 230, 255)",shape:"rect"},{id:2,label:"props",style:"fill: rgb(204, 230, 255)",shape:"rect"}],i=(null===(n=this.props.args)||void 0===n||null===(o=n.data)||void 0===o||null===(r=o.edges)||void 0===r?void 0:r.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{style:"stroke: rgb(214, 214, 214);fill: none"})})))||[{target:1,source:0,style:"stroke: rgb(214, 214, 214);fill: none",label:"2333"},{target:2,source:0,style:"stroke: rgb(214, 214, 214);fill: none",label:"2333"}],u=(null===(s=this.props.args)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.graph)||{rankdir:"LR"};return a.a.createElement(g,{nodes:c,edges:i,graph:u,onNodeClick:this.onNodeClick.bind(this)})}}]),n}(d.b),y=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={numClicks:0,isFocused:!1},e.render=function(){var t=e.props.args.data,n=e.props.theme,o={};if(n){var r="1px solid ".concat(e.state.isFocused?n.primaryColor:"gray");o.border=r,o.outline=r}return a.a.createElement("span",null,"Hello, ",t.name,"! \xa0",a.a.createElement("button",{style:o,onClick:e.onClicked,disabled:e.props.disabled,onFocus:e._onFocus,onBlur:e._onBlur},"Click Me!"))},e.onClicked=function(){e.setState((function(e){return{numClicks:e.numClicks+1}}),(function(){return d.a.setComponentValue(e.state.numClicks)}))},e._onFocus=function(){e.setState({isFocused:!0})},e._onBlur=function(){e.setState({isFocused:!1})},e}return Object(c.a)(n)}(d.b),k=(n(347),{dagre:b,ClickDemo:y,getUrl:function(){return Object(o.useEffect)((function(){d.a.setComponentValue(window.location.href)}),[]),null},LuckSheet:function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var o;if(Object(l.a)(this,n),(o=t.call(this,e)).cells=[],o.maxRow=0,o.maxCol=0,o.cellUpdated=function(e,t){e>o.maxRow&&(o.maxRow=e),t>o.maxCol&&(o.maxCol=t),console.log(o.maxRow,o.maxCol,e,t)},o.cellUpdateBefore=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t)},o.onSave=function(){var e=window.luckysheet.getLuckysheetfile()[0];console.log(e,JSON.stringify(e));for(var t=[],n=e.data,a={},r=0;r<=o.maxCol;r++)o.cells[r]&&"object"===typeof o.cells[r]?t.push(o.cells[r].index):t.push(o.cells[r]||e.data[0][r].v),a[t[r]]={};for(var s=1;s<=o.maxRow;s++)for(var l=0;l<=o.maxCol;l++)n[s][l]&&(a[t[l]][s-1]=n[s][l].v);d.a.setComponentValue({action:"save",filter:e.filter,data:a})},!window.luckysheet){["https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/plugins/css/pluginsCss.css","https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/plugins/plugins.css","https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/css/luckysheet.css","https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/assets/iconfont/iconfont.css","https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/plugins/js/plugin.js","https://cdn.jsdelivr.net/npm/luckysheet@latest/dist/luckysheet.umd.js"].forEach((function(e){if(e.endsWith(".css")){var t=document.createElement("link");t.href=e,t.rel="stylesheet",document.body.append(t)}else{var n=document.createElement("script");n.src=e,n.type="text/javascript",document.body.append(n)}}))}return o}return Object(c.a)(n,[{key:"createSheet",value:function(){var e=this;if(window.luckysheet){var t=[],n=this.props.args.data||{},o=n.data,a=n.cells;o&&(o=JSON.parse(o),a||(a=Object.keys(o)),a.forEach((function(n,a){var r="string"===typeof n?n:n.index,s=o[r];Object.keys(s).forEach((function(n){t.push({r:+n+1,c:a,v:s[n]}),+n+1>e.maxRow&&(e.maxRow=+n+1)}))}))),a&&(this.cells=a,this.maxCol=a.length-1,a.forEach((function(e,n){t.push({r:0,c:n,v:"string"===typeof e?e:{v:e.name}})}))),window.luckysheet.create({container:"luckysheet-container",showtoolbar:!0,data:[{name:"Sheet1",color:"",status:"1",order:"0",celldata:t,config:{},index:0,row:this.maxRow+10,column:this.maxCol+10}],hook:{cellUpdated:this.cellUpdated,cellUpdateBefore:this.cellUpdateBefore}}),d.a.setFrameHeight(600)}else setTimeout((function(){e.createSheet()}),1e3)}},{key:"componentDidMount",value:function(){this.createSheet()}},{key:"render",value:function(){return a.a.createElement("div",{className:"lucksheet_box"},a.a.createElement("div",null,a.a.createElement("button",{onClick:this.onSave,style:{marginRight:6}},"\u4fdd\u5b58")),a.a.createElement("div",{id:"luckysheet-container",style:{margin:"0px",padding:"0px",width:"100%",height:"100%"}}))}}]),n}(d.b)}),j=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).render=function(){var t=e.props.args.componentName,n=k[t];return n?a.a.createElement(n,Object.assign({},e.props,{setComponentValue:e.setComponentValue})):a.a.createElement("div",null,t,"\u7ec4\u4ef6\u4e0d\u5b58\u5728")},e}return Object(c.a)(n,[{key:"sholudComponentUpdate",value:function(e){return!(this.props.args===e.args)}},{key:"setComponentValue",value:function(e){d.a.setComponentValue(e)}}]),n}(d.b),C=Object(d.c)(j);s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(C,null)),document.getElementById("root"))}},[[150,1,2]]]);
//# sourceMappingURL=main.2f5bba7b.chunk.js.map