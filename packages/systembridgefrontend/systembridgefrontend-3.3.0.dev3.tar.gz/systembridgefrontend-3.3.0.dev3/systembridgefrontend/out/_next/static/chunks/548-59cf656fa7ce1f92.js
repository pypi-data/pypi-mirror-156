"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[548],{6771:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(5893),o=n(7294),i=n(1163),a=n(9008),u=n.n(a),c=n(8298),s=n(2734),l=n(2293),f=n(9520),d=n(155),p=n(6886),y=n(3321),m=n(5861),v=n(7357);function h(e){var t=e.children,n=(0,c.Z)({disableHysteresis:!0,threshold:24});return(0,o.cloneElement)(t,{elevation:n?4:0})}var b=function(){var e=(0,o.useState)(!1),t=e[0],n=e[1],i=((0,o.useCallback)((function(){n(!t)}),[t]),(0,s.Z)());return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{color:"transparent",elevation:0,children:(0,r.jsx)(f.Z,{maxWidth:"xl",sx:{padding:0},children:(0,r.jsx)(d.Z,{sx:{minHeight:50,maxHeight:50,padding:0,flex:1,alignItems:"center",justifyContent:"space-between",display:"flex",flexWrap:"nowrap"},children:(0,r.jsx)(p.ZP,{item:!0,children:(0,r.jsx)(y.Z,{href:"https://system-bridge.timmo.dev",target:"_blank",children:(0,r.jsx)(m.Z,{component:"div",variant:"h4",sx:{textTransform:"none",userSelect:"none",color:i.palette.primary.contrastText},children:"System Bridge"})})})})})}),(0,r.jsx)(v.Z,{sx:{height:i.spacing(18)}})]})})})};function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var x=!1;var j=function(e){var t=(0,i.useRouter)();return(0,o.useEffect)((function(){if(t.isReady&&!x){var e,n,r,o;x=!0;var i=(null===(e=t.query)||void 0===e?void 0:e.apiKey)||"",a=(null===(n=t.query)||void 0===n?void 0:n.apiPort)||"9170",u=!1;if((null===(r=t.query)||void 0===r?void 0:r.apiKey)||(u=!0,i=window.prompt("Please enter your API key",i)),(null===(o=t.query)||void 0===o?void 0:o.apiPort)||(u=!0,a=window.prompt("Please enter your API port (default: 9170)",a)),u&&i&&a){var c=t.asPath.split("?")[0];t.replace({pathname:c.includes(".html")?c:"".concat(c,".html"),query:w({},t.query,{apiKey:i,apiPort:a})})}}}),[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("title",{children:e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,r.jsx)("link",{rel:"canonical",href:e.url}),(0,r.jsx)("meta",{name:"description",content:e.description?"".concat(e.description):e.title?"".concat(e.title," - System Bridge"):"System Bridge"}),(0,r.jsx)("meta",{name:"keywords",content:e.keywords?"".concat(e.keywords):"system-bridge, system, bridge, typescript"})]}),!e.noHeader&&(0,r.jsx)(b,{}),e.children]})}},6317:function(e,t,n){n.d(t,{D:function(){return i},X:function(){return o}});var r=n(7294);function o(e){navigator.permissions.query({name:"clipboard-write"}).then((function(t){"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(e)}))}function i(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},9375:function(e,t,n){n.d(t,{C:function(){return u}});var r=n(4051),o=n.n(r);function i(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){i(a,r,o,u,c,"next",e)}function c(e){i(a,r,o,u,c,"throw",e)}u(void 0)}))}}var u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.port=t||9170,this.apiKey=n;var i=this;a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.connect();case 2:i.websocket=e.sent,r&&i.websocket&&i.websocket.readyState===i.websocket.OPEN&&r();case 4:case"end":return e.stop()}}),e)})))()}var t=e.prototype;return t.close=function(){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&this.websocket.close()},t.connect=function(){var e=this;return a(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new WebSocket("ws://".concat(window.location.hostname||"localhost",":").concat(e.port,"/api/websocket")),t.next=3,new Promise((function(e){n.onopen=function(){return e()}}));case 3:return n.onmessage=function(t){if("string"===typeof t.data){var n=JSON.parse(t.data);n&&e.onEvent&&e.onEvent(n)}},t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},t.isConnected=function(){var e,t;return console.log("isConnected:",!!this.websocket,null===(e=this.websocket)||void 0===e?void 0:e.readyState),(null===(t=this.websocket)||void 0===t?void 0:t.readyState)===WebSocket.OPEN},t.getData=function(e){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&(console.log("Get data:",e),this.websocket.send(JSON.stringify({"api-key":this.apiKey,event:"GET_DATA",modules:e})))},t.getSettings=function(){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&(console.log("Get settings"),this.websocket.send(JSON.stringify({"api-key":this.apiKey,event:"GET_SETTINGS"})))},t.registerDataListener=function(e){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&(console.log("Register data listener:",e),this.websocket.send(JSON.stringify({"api-key":this.apiKey,event:"REGISTER_DATA_LISTENER",modules:e})))},t.sendPlayerStatus=function(e){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&this.websocket.send(JSON.stringify({"api-key":this.apiKey,event:"MEDIA_STATUS",status:e}))},t.updateSetting=function(e,t){this.websocket&&this.websocket.readyState===this.websocket.OPEN&&(console.log("Update setting:",{key:e,value:t}),this.websocket.send(JSON.stringify({"api-key":this.apiKey,event:"UPDATE_SETTING",setting:e,value:t})))},e}()},9773:function(e,t,n){n.d(t,{Z:function(){return W}});var r=n(4051),o=n.n(r),i=n(5893),a=n(7294),u=n(880),c=n(6486),s=n(7467),l=n(6317),f=n(9375),d=n(2734),p=n(6886),y=n(7357),m=n(2022),v=n(6628),h=n(5861),b=n(3946),g=n(6336),w=n(8849),x=n(5317),j=n(381),k=n.n(j),S=n(6310);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){E(e,t,n[t])}))}return e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=function(){var e=function(){l(!0)},t=function(){M&&Q(M)},n=C((0,s.nn)(),2),r=n[0],o=n[1],u=(0,a.useState)(!1),c=u[0],l=u[1],f=C((0,s.XI)(),2),j=f[0],P=f[1],E=(0,a.useRef)(null),A=(0,a.useMemo)((function(){return r}),[r]),Z=A.duration,I=A.playing,D=A.muted,T=A.loaded,M=A.position,N=A.volume,_=(0,a.useMemo)((function(){return"".concat((100*N).toFixed(0),"%")}),[N]),U=(0,a.useMemo)((function(){var e=k().duration(M,"seconds");return"".concat(e.minutes().toString().padStart(2,"0"),":").concat(e.seconds().toString().padStart(2,"0"))}),[M]),L=(0,a.useMemo)((function(){var e=k().duration(Z,"seconds");return"".concat(e.minutes().toString().padStart(2,"0"),":").concat(e.seconds().toString().padStart(2,"0"))}),[Z]),K=(0,a.useMemo)((function(){return r.source}),[r]),R=K.artist,W=K.album,q=K.cover,F=K.source,G=K.title,J=(0,a.useCallback)((function(e){o(O({},r,{loaded:e}))}),[r,o]),z=(0,a.useCallback)((function(e){o(O({},r,{playing:e}))}),[r,o]),B=(0,a.useCallback)((function(){z(!I)}),[I,z]),H=(0,a.useCallback)((function(e){o(O({},r,{muted:e}))}),[r,o]),V=(0,a.useCallback)((function(){H(!D)}),[D,H]),$=(0,a.useCallback)((function(e,t){var n="down"===t?N-e:"up"===t?N+e:e;n>1&&(n=1),n<0&&(n=0),o(O({},r,{volume:n})),D&&H(!1)}),[D,N,r,o,H]),X=(0,a.useCallback)((function(e){o(O({},r,{duration:e}))}),[r,o]),Y=(0,a.useCallback)((function(e){Z&&e>Z&&(e=Z),e<0&&(e=0),o(O({},r,{position:e}))}),[r,Z,o]),Q=(0,a.useCallback)((function(e){var t;I||z(!0),l(!1),null===(t=E.current)||void 0===t||t.seekTo(e)}),[I,z]);(0,a.useEffect)((function(){T||J(!0)}),[T,J,z]);var ee=(0,d.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(S.Z,{ref:E,height:"0px",width:"0px",muted:D,playing:I,url:F,volume:N,onDuration:function(e){c||X(e)},onPause:function(){return z(!1)},onPlay:function(){return z(!0)},onStart:function(){return z(!0)},onProgress:function(e){var t=e.playedSeconds;return Y(t)}}),(0,i.jsxs)(p.ZP,{container:!0,direction:"row",alignItems:"center",justifyItems:"center",wrap:"nowrap",sx:{height:140,width:540,overflow:"hidden"},children:[(0,i.jsx)(p.ZP,{item:!0,sx:{width:140,margin:ee.spacing(0,1,0,0)},children:(0,i.jsx)(y.Z,{ref:j,children:(0,i.jsxs)(m.Z,{"aria-label":I?"Pause":"Play",onClick:B,children:[(0,i.jsx)("img",{alt:"".concat(R," - ").concat(W),src:q||"https://raw.githubusercontent.com/timmo001/system-bridge/master/resources/system-bridge-dimmed.svg",width:140}),(0,i.jsx)(v.Z,{in:!!P,timeout:{enter:200,exit:400},children:(0,i.jsx)(y.Z,{sx:{position:"absolute",display:"flex",height:"100%",width:"100%",zIndex:100},children:(0,i.jsx)(w.Icon,{id:I?"pause":"play",path:I?x.Wa1:x._86,size:6,style:{position:"relative",margin:"auto"}})})})]})})}),(0,i.jsx)(p.ZP,{item:!0,xs:!0,children:(0,i.jsxs)(p.ZP,{container:!0,direction:"column",alignItems:"flex-start",justifyItems:"space-around",children:[(0,i.jsx)(p.ZP,{item:!0,children:(0,i.jsxs)(h.Z,{color:"textPrimary",component:"span",variant:"subtitle1",noWrap:!0,children:[R," - ",G]})}),(0,i.jsx)(p.ZP,{item:!0,children:(0,i.jsx)(h.Z,{color:"textSecondary",component:"span",variant:"subtitle2",noWrap:!0,children:W})}),(0,i.jsxs)(p.ZP,{item:!0,container:!0,alignContent:"center",children:[(0,i.jsx)(p.ZP,{item:!0,xs:4}),(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(0,1,0,0)},item:!0,children:(0,i.jsx)(b.Z,{size:"small",onClick:V,children:D?(0,i.jsx)(w.Icon,{id:"mute",path:x.PLS,size:1.25}):(0,i.jsx)(w.Icon,{id:"unmute",path:x.dw,size:1.25})})}),(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(.6,2,0,0)},item:!0,xs:!0,children:(0,i.jsx)(g.ZP,{min:0,max:1,step:.01,value:N,onChange:function(e,t){"number"===typeof t&&$(t)}})}),(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(.9,N>=1?1:2,0,0)},item:!0,children:(0,i.jsx)(h.Z,{component:"span",variant:"body2",children:_})})]}),(0,i.jsxs)(p.ZP,{container:!0,children:[(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(.25,2,0,0)},item:!0,children:(0,i.jsx)(h.Z,{component:"span",variant:"body2",children:U})}),(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(0,2,0,0)},item:!0,xs:!0,children:(0,i.jsx)(g.ZP,{min:0,max:Z,step:.1,value:M,valueLabelDisplay:"off",onMouseDown:e,onKeyDown:e,onChange:function(e,t){"number"===typeof t&&Y(t)},onMouseUp:t,onKeyUp:t})}),(0,i.jsx)(p.ZP,{sx:{margin:ee.spacing(.25,1,0,0)},item:!0,children:(0,i.jsx)(h.Z,{component:"span",variant:"body2",children:L})})]})]})})]})]})};function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M,N=function(){var e=T((0,s.nn)(),2),t=e[0],n=e[1],r=(0,a.useRef)(null),o=(0,a.useMemo)((function(){return t}),[t]),u=o.duration,c=o.playing,l=o.muted,f=o.loaded,d=o.volume,p=(0,a.useMemo)((function(){return t.source}),[t]).source,y=(0,a.useCallback)((function(e){n(D({},t,{loaded:e}))}),[t,n]),m=(0,a.useCallback)((function(e){return n(D({},t,{playing:e}))}),[t,n]),v=(0,a.useCallback)((function(e){return n(D({},t,{duration:e}))}),[t,n]),h=(0,a.useCallback)((function(e){u&&e>u&&(e=u),e<0&&(e=0),n(D({},t,{position:e}))}),[t,u,n]);return(0,a.useEffect)((function(){f||y(!0)}),[f,y,m]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(S.Z,{controls:!0,pip:!0,ref:r,playing:c,height:"100%",width:"100%",style:{margin:0,overflow:"hidden"},url:p,muted:l,volume:d,onDuration:function(e){return v(e)},onPause:function(){return m(!1)},onPlay:function(){return m(!0)},onStart:function(){return m(!0)},onProgress:function(e){var t=e.playedSeconds;return h(t)}})})};function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void n(s)}u.done?t(c):Promise.resolve(c).then(r,o)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){var t=e.playerType,n=(0,a.useState)(!1),r=n[0],d=n[1],p=R((0,s.nn)(),2),y=p[0],m=p[1],v=(0,l.D)(y),h=(0,u.useRouter)(),b=h.query,g=(0,a.useCallback)((function(e){switch(console.log("Event:",e),e.type){case"MEDIA_PAUSE":m(K({},y,{playing:!1}));break;case"MEDIA_PLAY":m(K({},y,{playing:!0}));break;case"MEDIA_VOLUME_DOWN":e.volume&&m(K({},y,{volume:y.volume-e.volume}));break;case"MEDIA_VOLUME_UP":e.volume&&m(K({},y,{volume:y.volume+e.volume}));break;case"MEDIA_VOLUME_SET":e.volume&&m(K({},y,{volume:e.volume}));break;case"MEDIA_VOLUME_SET":e.position&&m(K({},y,{position:e.position}))}}),[y,m]),w=(0,a.useCallback)((function(e,t){var n;console.log("Setup WebSocketConnection"),M=new f.C(e,t,(n=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Connected to WebSocket");case 1:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)}))})),M.onEvent=g}),[g]);(0,a.useEffect)((function(){!r&&b&&b.apiKey&&(d(!0),w(Number(b.apiPort)||9170,String(b.apiKey)))}),[r,w,b]),(0,a.useEffect)((function(){if(!y&&h.isReady){var e=Number(b.volume);switch(t){default:break;case"audio":var n;m({muted:!1,playing:"true"===(null===(n=b.autoplay)||void 0===n?void 0:n.toLowerCase()),loaded:!1,position:0,duration:1,source:{type:"audio",source:b.url,album:b.album||"Unknown Album",artist:b.artist||"Unknown Aritst",cover:b.cover,title:b.title||"Unknown Title",volumeInitial:(e>0?e:40)/100},volume:(e>0?e:40)/100});break;case"video":m({muted:!1,playing:!1,loaded:!1,position:0,duration:1,source:{type:"video",source:String(b.url),volumeInitial:(e>0?e:40)/100},volume:(e>0?e:40)/100})}}}),[y,m,t,h,b]),(0,a.useEffect)((function(){if(y){var e;v&&"audio"===(e=(0,c.cloneDeep)(v)).source.type&&delete e.source.cover;var t=(0,c.cloneDeep)(y);if("audio"===t.source.type&&delete t.source.cover,!(0,c.isEqual)(t,e)){if(console.log("Player update\n\npreviousStatus:",e,"\nnewStatus:",t),!M)return;if(!M.isConnected())return d(!1),void console.warn("WebSocket not connected");M.sendPlayerStatus(t)}}}),[y,v]);var x=(0,a.useMemo)((function(){if(y)return y.source.type}),[y]);return(0,i.jsx)(i.Fragment,{children:"audio"===x?(0,i.jsx)(A,{}):"video"===x?(0,i.jsx)(N,{}):""})}},7467:function(e,t,n){n.d(t,{I0:function(){return s},XI:function(){return f},nn:function(){return l}});var r=n(5893),o=n(7294);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=(0,o.createContext)(void 0),c=(0,o.createContext)(null),s=function(e){var t=e.children,n=(0,o.useState)(),i=n[0],a=n[1];return(0,r.jsx)(c.Provider,{value:a,children:(0,r.jsx)(u.Provider,{value:i,children:t})})},l=function(){var e=(0,o.useContext)(u),t=(0,o.useContext)(c);if(null===t)throw new Error;return[e,t]};function f(){var e=a(o.useState(!1),2),t=e[0],n=e[1],r=o.useCallback((function(){return n(!0)}),[]),i=o.useCallback((function(){return n(!1)}),[]),u=o.useRef();return[o.useCallback((function(e){u.current&&(u.current.removeEventListener("mouseover",r),u.current.removeEventListener("mouseout",i)),u.current=e,u.current&&(u.current.addEventListener("mouseover",r),u.current.addEventListener("mouseout",i))}),[r,i]),t]}}}]);